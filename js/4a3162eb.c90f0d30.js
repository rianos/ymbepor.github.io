(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["4a3162eb"],{"21a6":function(e,t,s){(function(s){var a,i,n;(function(s,r){i=[],a=r,n="function"===typeof a?a.apply(t,i):a,void 0===n||(e.exports=n)})(0,function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function a(e,t,s){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){o(a.response,t,s)},a.onerror=function(){console.error("could not download file")},a.send()}function i(e){var t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),200<=t.status&&299>=t.status}function n(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(s){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof s&&s.global===s?s:void 0,o=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,s){var o=r.URL||r.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?n(l):i(l.href)?a(e,t,s):n(l,l.target="_blank")):(l.href=o.createObjectURL(e),setTimeout(function(){o.revokeObjectURL(l.href)},4e4),setTimeout(function(){n(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,s,r){if(s=s||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,r),s);else if(i(e))a(e,s,r);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout(function(){n(o)})}}:function(e,t,s,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return a(e,t,s);var n="application/octet-stream"===e.type,o=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||n&&o)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},c.readAsDataURL(e)}else{var p=r.URL||r.webkitURL,u=p.createObjectURL(e);i?i.location=u:location.href=u,i=null,setTimeout(function(){p.revokeObjectURL(u)},4e4)}});r.saveAs=o.saveAs=o,e.exports=o})}).call(this,s("c8ba"))},"22d1":function(e,t,s){"use strict";var a=s("c502"),i=s.n(a);i.a},"2bec":function(e,t,s){},"3e08":function(e,t,s){},"4cb6":function(e,t,s){"use strict";var a=s("6d26"),i=s.n(a);i.a},"5feb":function(e,t,s){},"688c":function(e,t,s){"use strict";var a=s("c2e6"),i=s.n(a);i.a},"6a2c":function(e,t,s){},"6d26":function(e,t,s){},"6d94":function(e,t,s){"use strict";var a=s("e712"),i=s.n(a);i.a},"7ccf":function(e,t,s){"use strict";var a=s("6a2c"),i=s.n(a);i.a},"834a":function(e,t,s){"use strict";var a=s("5feb"),i=s.n(a);i.a},"8b45":function(e,t,s){"use strict";var a=s("cd77"),i=s.n(a);i.a},"987a":function(e,t,s){"use strict";var a=s("2bec"),i=s.n(a);i.a},"9dd6":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{attrs:{padding:""}},[s("q-chip",{attrs:{icon:"input",square:"",pointing:"down",color:"primary"}},[e._v("\n   Import Project\n ")]),s("br"),s("q-select",{staticClass:"text-primary",attrs:{"float-label":"Select File Import Format",radio:"",toggle:"",options:e.selectOptions},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}}),s("br"),1===this.select?s("import-stepper"):e._e(),0===this.select?s("import-web-stepper"):e._e(),2==this.select?s("import-beat-saber-stepper"):e._e(),s("br"),s("br"),s("q-chip",{attrs:{icon:"save_alt",square:"",pointing:"down",color:"primary"}},[e._v("\n   Export Project\n ")]),s("export-stepper")],1)},i=[];a._withStripped=!0;var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-stepper",{ref:"stepperimport",attrs:{vertical:""}},[s("q-step",{attrs:{default:"",title:"Song Meta File",subtitle:"Select Meta File"}},[s("import-meta",{on:{success:e.nextStep}})],1),s("q-step",{attrs:{title:"Music File MP3/OGG",subtitle:"Load music file"}},[s("file-upload",{on:{success:e.nextStep}})],1),s("q-step",{attrs:{title:"Beat Data File",subtitle:"Select Beat Data CSV file"}},[s("import-beat",{on:{success:e.gobeatcoder}})],1)],1)},r=[];n._withStripped=!0;var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-uploader",{attrs:{"hide-upload-button":"","auto-expand":"",url:"",extensions:".txt"},on:{add:e.localuploadmeta}})},l=[];o._withStripped=!0;var c={data:function(){return{}},methods:{localuploadmeta:function(e){var t=this;if(e.length>0){this.visile=!0,this.$q.loading.show({spinner:"QSpinnerAudio",message:"Processing MetaFile. Please wait",messageColor:"white",spinnerSize:100,spinnerColor:"primary",customClass:"bg-blue-4"});var s=e[0],a=new FileReader;a.onload=function(e){t.parsefile(a.result),t.$q.loading.hide(),t.$emit("success")},a.readAsText(s)}},parsefile:function(e){var t,s=/title:\s*(.*)/g;t=s.exec(e),this.$store.commit("general/songTitle",t[1]),s=/artist:\s*(.*)/g,t=s.exec(e),t.length>1&&this.$store.commit("general/songArtist",t[1]),s=/attribution:\s*(.*)\nbpm:/g,t=s.exec(e),null!=t&&this.$store.commit("general/songAttribution",t[1]),s=/beatOffset:\s*(.*)/g,t=s.exec(e),this.$store.commit("general/beatoffset",t[1]),s=/bpm:\s*(.*)/g,t=s.exec(e),this.$store.commit("general/bpm",t[1]),s=/startOnMeasure:\s*(.*)*/g,t=s.exec(e),this.$store.commit("general/start",t[1])}}},p=c,u=(s("b776"),s("2877")),f=Object(u["a"])(p,o,l,!1,null,null,null);f.options.__file="ImportMeta.vue";var b=f.exports,h=s("68f8"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-uploader",{attrs:{"hide-upload-button":"","auto-expand":"",url:"",extensions:".csv"},on:{add:e.localuploadbeat}})},m=[];d._withStripped=!0;s("28a5");var v={data:function(){return{}},methods:{localuploadbeat:function(e){var t=this;if(e.length>0){this.visile=!0,this.$q.loading.show({spinner:"QSpinnerAudio",message:"Processing MetaFile. Please wait",messageColor:"white",spinnerSize:100,spinnerColor:"primary",customClass:"bg-blue-4"});var s=e[0],a=new FileReader;a.onload=function(e){var s;s=t.parsefile(a.result),t.$store.commit("general/beats",s),t.$q.loading.hide(),t.$emit("success")},a.readAsText(s)}},parsefile:function(e){var t=[],s=e.split("\n");t[0]={pattern:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};for(var a=1;a<s.length-1;a++){var i=s[a].split(","),n=parseInt(100*(4*(i[0]-1)+(i[1]-1)));if(-1!==i[2].indexOf("4")){if(void 0===t[n]){t[n]={pattern:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};var r=this.$store.state.general.flagbeats;r.push(n),this.$store.commit("general/flagbeats",r)}var o={0:2,45:3,90:4,135:5,180:6,225:7,"-90":8,"-45":9,270:8,315:9};switch(i[3]){case"Throw":t[n].pattern[i[4]]=10;break;case"Bash":t[n].pattern[i[4]]=1;break;case"Slice":t[n].pattern[i[4]]=o[i[5]]}}}t[1e5]={pattern:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};var l=this.$store.state.general.flagbeats;return l.push(1e5),this.$store.commit("general/flagbeats",l),t}}},g=v,w=(s("6d94"),Object(u["a"])(g,d,m,!1,null,null,null));w.options.__file="ImportBeat.vue";var S=w.exports,_={components:{ImportMeta:b,FileUpload:h["a"],ImportBeat:S},data:function(){return{step:1}},methods:{nextStep:function(){this.step=this.step+1,this.$refs.stepperimport.next()},previousStep:function(){this.step=this.step-1,this.$refs.stepperimport.previous()},gobeatcoder:function(){this.$router.push("/beatcoder")}}},$=_,x=(s("7ccf"),Object(u["a"])($,n,r,!1,null,null,null));x.options.__file="ImportStepper.vue";var y=x.exports,O=s("d947"),q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-stepper",{ref:"stepperwebimport",attrs:{vertical:""}},[s("q-step",{attrs:{default:"",title:"Song Web File",subtitle:"Select WBE File"}},[s("import-wbe",{on:{success:e.nextStep}})],1),s("q-step",{attrs:{title:"Song Music MP3/OGG File",subtitle:"Load music file"}},[s("file-upload",{on:{success:e.gobeatcoder}})],1)],1)},E=[];q._withStripped=!0;var A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-uploader",{attrs:{"hide-upload-button":"","auto-expand":"",url:"",extensions:".wbe"},on:{add:e.localuploadwbe}})},F=[];A._withStripped=!0;var j={data:function(){return{web:""}},methods:{parsefile:function(e){this.web=JSON.parse(e),this.$store.commit("general/songTitle",this.web.songTitle),this.$store.commit("general/songArtist",this.web.songArtist),this.$store.commit("general/songAttribution",this.web.songAttribution),this.$store.commit("general/start",this.web.start),this.$store.commit("general/beatoffset",this.web.beatoffset),this.$store.commit("general/bpm",this.web.bpm),this.$store.state.general.beats=this.web.beats,this.$store.state.general.flagbeats=this.web.flagbeats,this.$store.commit("general/mobileView",this.web.mobileView)},localuploadwbe:function(e){var t=this;if(e.length>0){this.visile=!0,this.$q.loading.show({spinner:"QSpinnerAudio",message:"Processing WebFormat File. Please wait",messageColor:"white",spinnerSize:100,spinnerColor:"primary",customClass:"bg-blue-4"});var s=e[0],a=new FileReader;a.onload=function(e){t.parsefile(a.result),t.$q.loading.hide(),t.$emit("success")},a.readAsText(s)}}}},k=j,L=(s("22d1"),Object(u["a"])(k,A,F,!1,null,null,null));L.options.__file="ImportWbe.vue";var T=L.exports,I={data:function(){return{}},components:{FileUpload:h["a"],ImportWbe:T},methods:{nextStep:function(){this.step=this.step+1,this.$refs.stepperwebimport.next()},previousStep:function(){this.step=this.step-1,this.$refs.stepperwebimport.previous()},gobeatcoder:function(){this.$router.push("/beatcoder")}}},B=I,M=(s("987a"),Object(u["a"])(B,q,E,!1,null,null,null));M.options.__file="ImportWebStepper.vue";var C=M.exports,P=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-stepper",{ref:"stepperbeatsaberimport",attrs:{vertical:""}},[s("q-step",{attrs:{default:"",title:"Song Info JSON File",subtitle:"Select JSON Info File"}},[s("import-beat-saber-info",{on:{success:e.nextStep}})],1),s("q-step",{attrs:{title:"MP3/OGG File",subtitle:"Load music file"}},[s("file-upload",{on:{success:e.nextStep}})],1),s("q-step",{attrs:{default:"",title:"Level JSON File",subtitle:"Select JSON Leve File"}},[s("import-beat-saber-level",{on:{success:e.gobeatcoder}})],1)],1)},R=[];P._withStripped=!0;var N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[this.listshow?e._e():s("q-uploader",{attrs:{"hide-upload-button":"","auto-expand":"",url:"",extensions:".json"},on:{add:e.localuploadjsoninfo}}),this.listshow?s("q-select",{staticClass:"text-primary",attrs:{"float-label":"Select Level to Import",placeholder:"Select Level to Import",radio:"",toggle:"",options:e.selectOptions},on:{input:e.udpdateOffset},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}}):e._e(),s("br"),this.listshow?s("q-btn",{attrs:{label:"Next",color:"primary"},on:{click:e.nextStep}}):e._e()],1)},W=[];N._withStripped=!0;var D={data:function(){return{web:"",select:0,selectOptions:[],listshow:!1}},methods:{setOffset:function(e){var t=0;void 0!==this.web.difficultyLevels[e].offset&&(t=this.web.difficultyLevels[e].offset),this.$store.commit("general/beatoffset",t/1e3)},udpdateOffset:function(e){this.setOffset(e),this.nextStep()},nextStep:function(){this.$emit("success")},parsefile:function(e){this.web=JSON.parse(e),this.$store.commit("general/songTitle",this.web.songName),this.$store.commit("general/songArtist",this.web.songSubName),this.$store.commit("general/songAttribution",this.web.authorName),this.$store.commit("general/start",1),this.$store.commit("general/bpm",this.web.beatsPerMinute),this.$store.commit("general/mobileView",!1);for(var t=0;t<this.web.difficultyLevels.length;t++){var s={label:this.web.difficultyLevels[t].difficulty,value:t};this.selectOptions.push(s)}this.setOffset(0)},localuploadjsoninfo:function(e){var t=this;if(e.length>0){this.visile=!0,this.$q.loading.show({spinner:"QSpinnerAudio",message:"Processing WebFormat File. Please wait",messageColor:"white",spinnerSize:100,spinnerColor:"primary",customClass:"bg-blue-4"});var s=e[0],a=new FileReader;a.onload=function(e){t.parsefile(a.result),t.listshow=!0,t.$q.loading.hide()},a.readAsText(s)}}}},U=D,J=(s("a800"),Object(u["a"])(U,N,W,!1,null,null,null));J.options.__file="ImportBeatSaberInfo.vue";var G=J.exports,z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-uploader",{attrs:{"hide-upload-button":"","auto-expand":"",url:"",extensions:".json"},on:{add:e.localuploadlevel}})},H=[];z._withStripped=!0;var Q={data:function(){return{}},methods:{localuploadlevel:function(e){var t=this;if(e.length>0){this.visile=!0,this.$q.loading.show({spinner:"QSpinnerAudio",message:"Processing MetaFile. Please wait",messageColor:"white",spinnerSize:100,spinnerColor:"primary",customClass:"bg-blue-4"});var s=e[0],a=new FileReader;a.onload=function(e){var s;s=t.parsefile(a.result),t.$store.commit("general/beats",s),t.$q.loading.hide(),t.$emit("success")},a.readAsText(s)}},timetobeat:function(e){var t=Math.round(100*e);return t},beatposition:function(e){var t=e._lineIndex,s=e._lineLayer;return 4*(2-s)+(t+1)},parsefile:function(e){var t=JSON.parse(e),s=[];s[0]={pattern:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},this.$store.commit("general/bpm",t._beatsPerMinute);for(var a=0;a<t._notes.length;a++){var i=t._notes[a];if(3!==i._type){var n=this.timetobeat(i._time);void 0===s[n]&&(s[n]={pattern:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},this.$store.commit("general/addflagbeat",n));var r=[2,6,8,4,9,3,7,5],o=this.beatposition(i);8===i._cutDirection?s[n].pattern[o]=1:s[n].pattern[o]=r[i._cutDirection]}}s[1e5]={pattern:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};var l=this.$store.state.general.flagbeats;return l.push(1e5),this.$store.commit("general/flagbeats",l),s}}},V=Q,X=(s("8b45"),Object(u["a"])(V,z,H,!1,null,null,null));X.options.__file="ImportBeatSaberLevel.vue";var K=X.exports,Y={data:function(){return{}},components:{FileUpload:h["a"],ImportBeatSaberInfo:G,ImportBeatSaberLevel:K},methods:{nextStep:function(){this.step=this.step+1,this.$refs.stepperbeatsaberimport.next()},previousStep:function(){this.step=this.step-1,this.$refs.stepperbeatsaberimport.previous()},gobeatcoder:function(){this.$router.push("/beatcoder")}}},Z=Y,ee=(s("4cb6"),Object(u["a"])(Z,P,R,!1,null,null,null));ee.options.__file="ImportBeatSaberStepper.vue";var te=ee.exports,se={data:function(){return{select:1,selectOptions:[{label:"Beatron Standalone Editor",value:1},{label:"Web Editor",value:0},{label:"Beat Saber",value:2}]}},components:{ImportStepper:y,ImportWebStepper:C,ImportBeatSaberStepper:te,ExportStepper:O["a"]}},ae=se,ie=(s("834a"),Object(u["a"])(ae,a,i,!1,null,null,null));ie.options.__file="ImportExport.vue";t["default"]=ie.exports},a6e6:function(e,t,s){},a800:function(e,t,s){"use strict";var a=s("3e08"),i=s.n(a);i.a},b776:function(e,t,s){"use strict";var a=s("a6e6"),i=s.n(a);i.a},c2e6:function(e,t,s){},c502:function(e,t,s){},cd77:function(e,t,s){},d947:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("q-btn",{attrs:{outline:"",icon:"save_alt",color:"primary",label:"Save Meta file"},on:{click:e.save_meta}}),s("q-btn",{attrs:{outline:"",icon:"save_alt",color:"primary",label:"Save Beats file"},on:{click:e.save_beats}}),s("q-btn",{attrs:{c:"",outline:"",icon:"save_alt",color:"tertiary",label:"Save Web format"},on:{click:e.save_web}}),s("q-btn",{attrs:{c:"",outline:"",icon:"file_copy",color:"tertiary",label:"Drop WBE file to clipboard"},on:{click:e.save_web_clipboard}})],1)},i=[];a._withStripped=!0;s("a481"),s("551c");var n=s("21a6"),r={data:function(){return{}},methods:{writeText:function(e){return new Promise(function(t,s){var a=!1;function i(t){t.clipboardData.setData("text/plain",e),t.preventDefault(),a=!0}document.addEventListener("copy",i),document.execCommand("copy"),document.removeEventListener("copy",i),a?t():s(new Error("error copying to clipboard"))})},generate_wbe:function(){var e={songTitle:this.$store.state.general.songTitle,songArtist:this.$store.state.general.songArtist,songAttribution:this.$store.state.general.songAttribution,start:this.$store.state.general.start,beatoffset:this.$store.state.general.beatoffset,bpm:this.$store.state.general.bpm,beats:this.$store.state.general.beats,flagbeats:this.$store.state.general.flagbeats,mobileWeb:this.$store.state.general.mobileWeb};return e},save_web_clipboard:function(){var e=this.generate_wbe();this.writeText(JSON.stringify(e))},save_web:function(){var e=this.generate_wbe(),t=this.$store.state.general.songTitle.replace(/ /g,"-");t+="-web.wbe";var s=new Blob([JSON.stringify(e)],{type:"text/plain;charset=utf8"});Object(n["saveAs"])(s,t)},save_meta:function(){var e="title: "+this.$store.state.general.songTitle+"\n";e=e+"artist: "+this.$store.state.general.songArtist+"\n",e=e+"attribution: "+this.$store.state.general.songAttribution+"\n",e=e+"bpm: "+this.$store.state.general.bpm+"\n",e=e+"beatOffset: "+this.$store.state.general.beatoffset+"\n",e=e+"startOnMeasure: "+this.$store.state.general.start+"\n";var t=this.$store.state.general.songTitle.replace(/ /g,"-");t+="-meta.txt";var s=new Blob([e],{type:"text/plain;charset=utf8"});Object(n["saveAs"])(s,t)},save_beats:function(){var e=[],t="Measure,Beat,Levels,Event Type,Position,Rotation,Details,Comment";e.push(t);for(var s=this.$store.state.general.flagbeats,a=this.$store.state.general.beats,i=0;i<s.length-1;i++){var r=s[i],o=a[r].pattern,l=parseInt(r/100/4)+1,c=(r-4*(l-1)*100)/100+1,p="1234";t="",t=l+","+c.toFixed(2)+","+p;for(var u=0;u<o.length;u++)if(0!==o[u]){var f="";switch(o[u]){case 1:f=",Bash,"+u+",90,,",e.push(t+f);break;case 2:f=",Slice,"+u+",0,,",e.push(t+f);break;case 3:f=",Slice,"+u+",45,,",e.push(t+f);break;case 4:f=",Slice,"+u+",90,,",e.push(t+f);break;case 5:f=",Slice,"+u+",135,,",e.push(t+f);break;case 6:f=",Slice,"+u+",180,,",e.push(t+f);break;case 7:f=",Slice,"+u+",225,,",e.push(t+f);break;case 8:f=",Slice,"+u+",270,,",e.push(t+f);break;case 9:f=",Slice,"+u+",315,,",e.push(t+f);break;case 10:f=",Throw,"+u+",0,,",e.push(t+f);break}}}var b=this.$store.state.general.songTitle.replace(/ /g,"-");b+="-beatdata.csv";var h=new Blob([e.join("\n")],{type:"text/plain;charset=utf8"});Object(n["saveAs"])(h,b)}}},o=r,l=(s("688c"),s("2877")),c=Object(l["a"])(o,a,i,!1,null,null,null);c.options.__file="ExportStepper.vue";t["a"]=c.exports},e712:function(e,t,s){}}]);