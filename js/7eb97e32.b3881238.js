(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["7eb97e32"],{"21a6":function(e,t,a){(function(a){var o,n,s;(function(a,r){n=[],o=r,s="function"===typeof o?o.apply(t,n):o,void 0===s||(e.exports=s)})(0,function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function o(e,t,a){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){i(o.response,t,a)},o.onerror=function(){console.error("could not download file")},o.send()}function n(e){var t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,i=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,a){var i=r.URL||r.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?s(l):n(l.href)?o(e,t,a):s(l,l.target="_blank")):(l.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(l.href)},4e4),setTimeout(function(){s(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,a,r){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,r),a);else if(n(e))o(e,a,r);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){s(i)})}}:function(e,t,a,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return o(e,t,a);var s="application/octet-stream"===e.type,i=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&i)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},c.readAsDataURL(e)}else{var u=r.URL||r.webkitURL,b=u.createObjectURL(e);n?n.location=b:location.href=b,n=null,setTimeout(function(){u.revokeObjectURL(b)},4e4)}});r.saveAs=i.saveAs=i,e.exports=i})}).call(this,a("c8ba"))},"2da0":function(e,t,a){"use strict";var o=a("beed"),n=a.n(o);n.a},"688c":function(e,t,a){"use strict";var o=a("c2e6"),n=a.n(o);n.a},"713b":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",[a("q-layout-header",{attrs:{reveal:""}},[a("q-toolbar",[a("q-toolbar-title",[e._v("\n        Beatron2000 Web Code Editor\n        "),a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v(e._s(e.songTitle)+" "+e._s(e.songArtist)+" ")])]),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"home"},on:{click:e.goHome}},[a("q-tooltip",{attrs:{delay:1e3}},[e._v("Go to "),a("b",[e._v("Main Page")])])],1),a("q-btn",{ref:"savetoolbarbutton",attrs:{flat:"",round:"",dense:"",icon:"save"},on:{click:e.saveLocal}},[a("q-tooltip",{attrs:{delay:1e3}},[e._v("Generate and Save "),a("b",[e._v("WBE export file")])])],1),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"add_circle"},on:{click:e.newSong}},[a("q-tooltip",{attrs:{delay:1e3}},[e._v("Create "),a("b",[e._v("new")]),e._v(" Project")])],1)],1),a("q-tabs",{attrs:{animated:"",inverted:""}},[a("q-route-tab",{attrs:{slot:"title",icon:"queue_music",to:"/songdetails",default:"",hide:"label",label:"Song Details"},slot:"title"}),a("q-route-tab",{attrs:{slot:"title",icon:"audiotrack",to:"/beatcoder",hide:"label",label:"Beat Coder"},slot:"title"}),a("q-route-tab",{attrs:{slot:"title",icon:"swap_horiz",to:"/importexport",hide:"label",label:"Import / Export"},slot:"title"})],1)],1),a("q-page-container",[a("router-view",{on:{autosave:e.autosave}})],1),a("export-stepper",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"exporterAux"})],1)},n=[];o._withStripped=!0;var s=a("f9d8"),r=a("d947"),i={name:"MainLayout",components:{ExportStepper:r["a"]},data:function(){return{}},methods:{autosave:function(){var e={songTitle:this.$store.state.general.songTitle,songArtist:this.$store.state.general.songArtist,songAttribution:this.$store.state.general.songAttribution,start:this.$store.state.general.start,beatoffset:this.$store.state.general.beatoffset,bpm:this.$store.state.general.bpm,beats:this.$store.state.general.beats,flagbeats:this.$store.state.general.flagbeats,mobileWeb:this.$store.state.general.mobileView};s["a"].set("saved_file",e)},goHome:function(){this.$router.push("/")},newSong:function(){this.$router.push("/asistant")},saveLocal:function(){this.autosave(),this.$refs.exporterAux.save_web()}},computed:{songTitle:{get:function(){return this.$store.state.general.songTitle}},songArtist:{get:function(){return this.$store.state.general.songArtist?" by "+this.$store.state.general.songArtist:""}}}},l=i,c=(a("2da0"),a("2877")),u=Object(c["a"])(l,o,n,!1,null,null,null);u.options.__file="MainLayout.vue";t["default"]=u.exports},beed:function(e,t,a){},c2e6:function(e,t,a){},d947:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-btn",{attrs:{outline:"",icon:"save_alt",color:"primary",label:"Save Meta file"},on:{click:e.save_meta}}),a("q-btn",{attrs:{outline:"",icon:"save_alt",color:"primary",label:"Save Beats file"},on:{click:e.save_beats}}),a("q-btn",{attrs:{c:"",outline:"",icon:"save_alt",color:"tertiary",label:"Save Web format"},on:{click:e.save_web}}),a("q-btn",{attrs:{c:"",outline:"",icon:"file_copy",color:"tertiary",label:"Drop WBE file to clipboard"},on:{click:e.save_web_clipboard}})],1)},n=[];o._withStripped=!0;a("a481"),a("551c");var s=a("21a6"),r={data:function(){return{}},methods:{writeText:function(e){return new Promise(function(t,a){var o=!1;function n(t){t.clipboardData.setData("text/plain",e),t.preventDefault(),o=!0}document.addEventListener("copy",n),document.execCommand("copy"),document.removeEventListener("copy",n),o?t():a(new Error("error copying to clipboard"))})},generate_wbe:function(){var e={songTitle:this.$store.state.general.songTitle,songArtist:this.$store.state.general.songArtist,songAttribution:this.$store.state.general.songAttribution,start:this.$store.state.general.start,beatoffset:this.$store.state.general.beatoffset,bpm:this.$store.state.general.bpm,beats:this.$store.state.general.beats,flagbeats:this.$store.state.general.flagbeats,mobileWeb:this.$store.state.general.mobileWeb};return e},save_web_clipboard:function(){var e=this.generate_wbe();this.writeText(JSON.stringify(e))},save_web:function(){var e=this.generate_wbe(),t=this.$store.state.general.songTitle.replace(/ /g,"-");t+="-web.wbe";var a=new Blob([JSON.stringify(e)],{type:"text/plain;charset=utf8"});Object(s["saveAs"])(a,t)},save_meta:function(){var e="title: "+this.$store.state.general.songTitle+"\n";e=e+"artist: "+this.$store.state.general.songArtist+"\n",e=e+"attribution: "+this.$store.state.general.songAttribution+"\n",e=e+"bpm: "+this.$store.state.general.bpm+"\n",e=e+"beatOffset: "+this.$store.state.general.beatoffset+"\n",e=e+"startOnMeasure: "+this.$store.state.general.start+"\n";var t=this.$store.state.general.songTitle.replace(/ /g,"-");t+="-meta.txt";var a=new Blob([e],{type:"text/plain;charset=utf8"});Object(s["saveAs"])(a,t)},save_beats:function(){var e=[],t="Measure,Beat,Levels,Event Type,Position,Rotation,Details,Comment";e.push(t);for(var a=this.$store.state.general.flagbeats,o=this.$store.state.general.beats,n=0;n<a.length-1;n++){var r=a[n],i=o[r].pattern,l=parseInt(r/100/4)+1,c=(r-4*(l-1)*100)/100+1,u="1234";t="",t=l+","+c.toFixed(2)+","+u;for(var b=0;b<i.length;b++)if(0!==i[b]){var f="";switch(i[b]){case 1:f=",Bash,"+b+",90,,",e.push(t+f);break;case 2:f=",Slice,"+b+",0,,",e.push(t+f);break;case 3:f=",Slice,"+b+",45,,",e.push(t+f);break;case 4:f=",Slice,"+b+",90,,",e.push(t+f);break;case 5:f=",Slice,"+b+",135,,",e.push(t+f);break;case 6:f=",Slice,"+b+",180,,",e.push(t+f);break;case 7:f=",Slice,"+b+",225,,",e.push(t+f);break;case 8:f=",Slice,"+b+",270,,",e.push(t+f);break;case 9:f=",Slice,"+b+",315,,",e.push(t+f);break;case 10:f=",Throw,"+b+",0,,",e.push(t+f);break}}}var p=this.$store.state.general.songTitle.replace(/ /g,"-");p+="-beatdata.csv";var v=new Blob([e.join("\n")],{type:"text/plain;charset=utf8"});Object(s["saveAs"])(v,p)}}},i=r,l=(a("688c"),a("2877")),c=Object(l["a"])(i,o,n,!1,null,null,null);c.options.__file="ExportStepper.vue";t["a"]=c.exports}}]);