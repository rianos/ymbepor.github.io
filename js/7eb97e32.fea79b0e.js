(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["7eb97e32"],{"21a6":function(t,e,a){(function(a){var o,s,n;(function(a,r){s=[],o=r,n="function"===typeof o?o.apply(e,s):o,void 0===n||(t.exports=n)})(0,function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function o(t,e,a){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){i(o.response,e,a)},o.onerror=function(){console.error("could not download file")},o.send()}function s(t){var e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),200<=e.status&&299>=e.status}function n(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(a){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,i=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype?function(t,e,a){var i=r.URL||r.webkitURL,l=document.createElement("a");e=e||t.name||"download",l.download=e,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?n(l):s(l.href)?o(t,e,a):n(l,l.target="_blank")):(l.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(l.href)},4e4),setTimeout(function(){n(l)},0))}:"msSaveOrOpenBlob"in navigator?function(t,a,r){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,r),a);else if(s(t))o(t,a,r);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){n(i)})}}:function(t,e,a,s){if(s=s||open("","_blank"),s&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof t)return o(t,e,a);var n="application/octet-stream"===t.type,i=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||n&&i)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=t:location=t,s=null},c.readAsDataURL(t)}else{var u=r.URL||r.webkitURL,b=u.createObjectURL(t);s?s.location=b:location.href=b,s=null,setTimeout(function(){u.revokeObjectURL(b)},4e4)}});r.saveAs=i.saveAs=i,t.exports=i})}).call(this,a("c8ba"))},"2da0":function(t,e,a){"use strict";var o=a("beed"),s=a.n(o);s.a},"688c":function(t,e,a){"use strict";var o=a("c2e6"),s=a.n(o);s.a},"713b":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",[a("q-layout-header",{attrs:{reveal:""}},[a("q-toolbar",[a("q-toolbar-title",[t._v("\n        Beatron2000 Web Code Editor\n        "),a("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[t._v(t._s(t.songTitle)+" "+t._s(t.songArtist)+" ")])]),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"home"},on:{click:t.goHome}},[a("q-tooltip",{attrs:{delay:1e3}},[t._v("Go to "),a("b",[t._v("Main Page")])])],1),a("q-btn",{ref:"savetoolbarbutton",attrs:{flat:"",round:"",dense:"",icon:"save"},on:{click:t.saveLocal}},[a("q-tooltip",{attrs:{delay:1e3}},[t._v("Generate and Save "),a("b",[t._v("WBE export file")])])],1),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"add_circle"},on:{click:t.newSong}},[a("q-tooltip",{attrs:{delay:1e3}},[t._v("Create "),a("b",[t._v("new")]),t._v(" Project")])],1)],1),a("q-tabs",{attrs:{animated:"",inverted:""}},[a("q-route-tab",{attrs:{slot:"title",icon:"queue_music",to:"/songdetails",default:"",hide:"label",label:"Song Details"},slot:"title"}),a("q-route-tab",{attrs:{slot:"title",icon:"audiotrack",to:"/beatcoder",hide:"label",label:"Beat Coder"},slot:"title"}),a("q-route-tab",{attrs:{slot:"title",icon:"swap_horiz",to:"/importexport",hide:"label",label:"Import / Export"},slot:"title"})],1)],1),a("q-page-container",[a("router-view",{on:{autosave:t.autosave}})],1),a("export-stepper",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"exporterAux"})],1)},s=[];o._withStripped=!0;var n=a("f9d8"),r=a("d947"),i={name:"MainLayout",components:{ExportStepper:r["a"]},data:function(){return{}},methods:{autosave:function(){var t={songTitle:this.$store.state.general.songTitle,songArtist:this.$store.state.general.songArtist,songAttribution:this.$store.state.general.songAttribution,start:this.$store.state.general.start,beatoffset:this.$store.state.general.beatoffset,bpm:this.$store.state.general.bpm,beats:this.$store.state.general.beats,flagbeats:this.$store.state.general.flagbeats,mobileWeb:this.$store.state.general.mobileView};n["a"].set("saved_file",t)},goHome:function(){this.$router.push("/")},newSong:function(){this.$router.push("/asistant")},saveLocal:function(){this.autosave(),this.$refs.exporterAux.save_web()}},computed:{songTitle:{get:function(){return this.$store.state.general.songTitle}},songArtist:{get:function(){return this.$store.state.general.songArtist?" by "+this.$store.state.general.songArtist:""}}}},l=i,c=(a("2da0"),a("2877")),u=Object(c["a"])(l,o,s,!1,null,null,null);u.options.__file="MainLayout.vue";e["default"]=u.exports},beed:function(t,e,a){},c2e6:function(t,e,a){},d947:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-btn",{attrs:{outline:"",icon:"save_alt",color:"primary",label:"Save Meta file"},on:{click:t.save_meta}}),a("q-btn",{attrs:{outline:"",icon:"save_alt",color:"primary",label:"Save Beats file"},on:{click:t.save_beats}}),a("q-btn",{attrs:{c:"",outline:"",icon:"save_alt",color:"tertiary",label:"Save Web format"},on:{click:t.save_web}})],1)},s=[];o._withStripped=!0;a("a481");var n=a("21a6"),r={data:function(){return{}},methods:{save_web:function(){var t={songTitle:this.$store.state.general.songTitle,songArtist:this.$store.state.general.songArtist,songAttribution:this.$store.state.general.songAttribution,start:this.$store.state.general.start,beatoffset:this.$store.state.general.beatoffset,bpm:this.$store.state.general.bpm,beats:this.$store.state.general.beats,flagbeats:this.$store.state.general.flagbeats,mobileWeb:this.$store.state.general.mobileWeb},e=this.$store.state.general.songTitle.replace(/ /g,"-");e+="-web.wbe";var a=new Blob([JSON.stringify(t)],{type:"text/plain;charset=utf8"});Object(n["saveAs"])(a,e)},save_meta:function(){var t="title: "+this.$store.state.general.songTitle+"\n";t=t+"artist: "+this.$store.state.general.songArtist+"\n",t=t+"attribution: "+this.$store.state.general.songAttribution+"\n",t=t+"bpm: "+this.$store.state.general.bpm+"\n",t=t+"beatOffset: "+this.$store.state.general.beatoffset+"\n",t=t+"startOnMeasure: "+this.$store.state.general.start+"\n";var e=this.$store.state.general.songTitle.replace(/ /g,"-");e+="-meta.txt";var a=new Blob([t],{type:"text/plain;charset=utf8"});Object(n["saveAs"])(a,e)},save_beats:function(){var t=[],e="Measure,Beat,Levels,Event Type,Position,Rotation,Details,Comment";t.push(e);for(var a=this.$store.state.general.flagbeats,o=this.$store.state.general.beats,s=0;s<a.length-1;s++){var r=a[s],i=o[r].pattern,l=parseInt(r/100/4)+1,c=(r-4*(l-1)*100)/100+1,u="1234";e="",e=l+","+c.toFixed(2)+","+u;for(var b=0;b<i.length;b++)if(0!==i[b]){var f="";switch(i[b]){case 1:f=",Bash,"+b+",90,,",t.push(e+f);break;case 2:f=",Slice,"+b+",0,,",t.push(e+f);break;case 3:f=",Slice,"+b+",45,,",t.push(e+f);break;case 4:f=",Slice,"+b+",90,,",t.push(e+f);break;case 5:f=",Slice,"+b+",135,,",t.push(e+f);break;case 6:f=",Slice,"+b+",180,,",t.push(e+f);break;case 7:f=",Slice,"+b+",225,,",t.push(e+f);break;case 8:f=",Slice,"+b+",270,,",t.push(e+f);break;case 9:f=",Slice,"+b+",315,,",t.push(e+f);break;case 10:f=",Throw,"+b+",0,,",t.push(e+f);break}}}var p=this.$store.state.general.songTitle.replace(/ /g,"-");p+="-beatdata.csv";var v=new Blob([t.join("\n")],{type:"text/plain;charset=utf8"});Object(n["saveAs"])(v,p)}}},i=r,l=(a("688c"),a("2877")),c=Object(l["a"])(i,o,s,!1,null,null,null);c.options.__file="ExportStepper.vue";e["a"]=c.exports}}]);