(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["42ddca19"],{"21a6":function(e,t,s){(function(s){var a,n,r;(function(s,o){n=[],a=o,r="function"===typeof a?a.apply(t,n):a,void 0===r||(e.exports=r)})(0,function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function a(e,t,s){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){i(a.response,t,s)},a.onerror=function(){console.error("could not download file")},a.send()}function n(e){var t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(s){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof s&&s.global===s?s:void 0,i=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,s){var i=o.URL||o.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?r(l):n(l.href)?a(e,t,s):r(l,l.target="_blank")):(l.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(l.href)},4e4),setTimeout(function(){r(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,s,o){if(s=s||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,o),s);else if(n(e))a(e,s,o);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){r(i)})}}:function(e,t,s,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return a(e,t,s);var r="application/octet-stream"===e.type,i=/constructor/i.test(o.HTMLElement)||o.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||r&&i)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},c.readAsDataURL(e)}else{var p=o.URL||o.webkitURL,u=p.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){p.revokeObjectURL(u)},4e4)}});o.saveAs=i.saveAs=i,e.exports=i})}).call(this,s("c8ba"))},"22d1":function(e,t,s){"use strict";var a=s("c502"),n=s.n(a);n.a},"2bec":function(e,t,s){},"5feb":function(e,t,s){},"688c":function(e,t,s){"use strict";var a=s("c2e6"),n=s.n(a);n.a},"6a2c":function(e,t,s){},"6d94":function(e,t,s){"use strict";var a=s("e712"),n=s.n(a);n.a},"7ccf":function(e,t,s){"use strict";var a=s("6a2c"),n=s.n(a);n.a},"834a":function(e,t,s){"use strict";var a=s("5feb"),n=s.n(a);n.a},"987a":function(e,t,s){"use strict";var a=s("2bec"),n=s.n(a);n.a},"9dd6":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{attrs:{padding:""}},[s("q-chip",{attrs:{icon:"input",square:"",pointing:"down",color:"primary"}},[e._v("\n   Import Project\n ")]),s("br"),s("q-select",{staticClass:"text-primary",attrs:{"float-label":"Select File Import Format",radio:"",toggle:"",options:e.selectOptions},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}}),s("br"),1===this.select?s("import-stepper"):e._e(),0===this.select?s("import-web-stepper"):e._e(),s("br"),s("br"),s("q-chip",{attrs:{icon:"save_alt",square:"",pointing:"down",color:"primary"}},[e._v("\n   Export Project\n ")]),s("export-stepper")],1)},n=[];a._withStripped=!0;var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-stepper",{ref:"stepperimport",attrs:{vertical:""}},[s("q-step",{attrs:{default:"",title:"Song Meta File",subtitle:"Select Meta File"}},[s("import-meta",{on:{success:e.nextStep}})],1),s("q-step",{attrs:{title:"MP3 File",subtitle:"Load music file"}},[s("file-upload",{on:{success:e.nextStep}})],1),s("q-step",{attrs:{title:"Beat Data File",subtitle:"Select Beat Data CSV file"}},[s("import-beat",{on:{success:e.gobeatcoder}})],1)],1)},o=[];r._withStripped=!0;var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-uploader",{attrs:{"hide-upload-button":"","auto-expand":"",url:"",extensions:".txt"},on:{add:e.localuploadmeta}})},l=[];i._withStripped=!0;var c={data:function(){return{}},methods:{localuploadmeta:function(e){var t=this;if(e.length>0){this.visile=!0,this.$q.loading.show({spinner:"QSpinnerAudio",message:"Processing MetaFile. Please wait",messageColor:"white",spinnerSize:100,spinnerColor:"primary",customClass:"bg-blue-4"});var s=e[0],a=new FileReader;a.onload=function(e){t.parsefile(a.result),t.$q.loading.hide(),t.$emit("success")},a.readAsText(s)}},parsefile:function(e){var t,s=/title:\s*(.*)/g;t=s.exec(e),this.$store.commit("general/songTitle",t[1]),s=/artist:\s*(.*)/g,t=s.exec(e),t.length>1&&this.$store.commit("general/songArtist",t[1]),s=/attribution:\s*(.*)\nbpm:/g,t=s.exec(e),null!=t&&this.$store.commit("general/songAttribution",t[1]),s=/beatOffset:\s*(.*)/g,t=s.exec(e),this.$store.commit("general/beatoffset",t[1]),s=/bpm:\s*(.*)/g,t=s.exec(e),this.$store.commit("general/bpm",t[1]),s=/startOnMeasure:\s*(.*)*/g,t=s.exec(e),this.$store.commit("general/start",t[1])}}},p=c,u=(s("b776"),s("2877")),f=Object(u["a"])(p,i,l,!1,null,null,null);f.options.__file="ImportMeta.vue";var b=f.exports,h=s("68f8"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-uploader",{attrs:{"hide-upload-button":"","auto-expand":"",url:"",extensions:".csv"},on:{add:e.localuploadbeat}})},m=[];d._withStripped=!0;s("28a5");var g={data:function(){return{}},methods:{localuploadbeat:function(e){var t=this;if(e.length>0){this.visile=!0,this.$q.loading.show({spinner:"QSpinnerAudio",message:"Processing MetaFile. Please wait",messageColor:"white",spinnerSize:100,spinnerColor:"primary",customClass:"bg-blue-4"});var s=e[0],a=new FileReader;a.onload=function(e){var s;s=t.parsefile(a.result),t.$store.commit("general/beats",s),t.$q.loading.hide(),t.$emit("success")},a.readAsText(s)}},parsefile:function(e){var t=[],s=e.split("\n");t[0]={pattern:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};for(var a=1;a<s.length-1;a++){var n=s[a].split(","),r=parseInt(100*(4*(n[0]-1)+(n[1]-1)));if(-1!==n[2].indexOf("4")){if(void 0===t[r]){t[r]={pattern:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};var o=this.$store.state.general.flagbeats;o.push(r),this.$store.commit("general/flagbeats",o)}var i={0:2,45:3,90:4,135:5,180:6,225:7,"-90":8,"-45":9,270:8,315:9};switch(n[3]){case"Throw":t[r].pattern[n[4]]=10;break;case"Bash":t[r].pattern[n[4]]=1;break;case"Slice":t[r].pattern[n[4]]=i[n[5]]}}}t[1e5]={pattern:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};var l=this.$store.state.general.flagbeats;return l.push(1e5),this.$store.commit("general/flagbeats",l),t}}},v=g,w=(s("6d94"),Object(u["a"])(v,d,m,!1,null,null,null));w.options.__file="ImportBeat.vue";var $=w.exports,S={components:{ImportMeta:b,FileUpload:h["a"],ImportBeat:$},data:function(){return{step:1}},methods:{nextStep:function(){this.step=this.step+1,this.$refs.stepperimport.next()},previousStep:function(){this.step=this.step-1,this.$refs.stepperimport.previous()},gobeatcoder:function(){this.$router.push("/beatcoder")}}},_=S,x=(s("7ccf"),Object(u["a"])(_,r,o,!1,null,null,null));x.options.__file="ImportStepper.vue";var y=x.exports,A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("q-btn",{attrs:{outline:"",icon:"save_alt",color:"primary",label:"Save Meta file"},on:{click:e.save_meta}}),s("q-btn",{attrs:{outline:"",icon:"save_alt",color:"primary",label:"Save Beats file"},on:{click:e.save_beats}}),s("q-btn",{attrs:{c:"",outline:"",icon:"save_alt",color:"tertiary",label:"Save Web format"},on:{click:e.save_web}})],1)},E=[];A._withStripped=!0;s("a481");var O=s("21a6"),k={data:function(){return{}},methods:{save_web:function(){var e={songTitle:this.$store.state.general.songTitle,songArtist:this.$store.state.general.songArtist,songAttribution:this.$store.state.general.songAttribution,start:this.$store.state.general.start,beatoffset:this.$store.state.general.beatoffset,bpm:this.$store.state.general.bpm,beats:this.$store.state.general.beats,flagbeats:this.$store.state.general.flagbeats,mobileWeb:this.$store.state.general.mobileWeb},t=this.$store.state.general.songTitle.replace(/ /g,"-");t+="-web.wbe";var s=new Blob([JSON.stringify(e)],{type:"text/plain;charset=utf8"});Object(O["saveAs"])(s,t)},save_meta:function(){var e="title: "+this.$store.state.general.songTitle+"\n";e=e+"artist: "+this.$store.state.general.songArtist+"\n",e=e+"attribution: "+this.$store.state.general.songAttribution+"\n",e=e+"bpm: "+this.$store.state.general.bpm+"\n",e=e+"beatOffset: "+this.$store.state.general.beatoffset+"\n",e=e+"startOnMeasure: "+this.$store.state.general.start+"\n";var t=this.$store.state.general.songTitle.replace(/ /g,"-");t+="-meta.txt";var s=new Blob([e],{type:"text/plain;charset=utf8"});Object(O["saveAs"])(s,t)},save_beats:function(){var e=[],t="Measure,Beat,Levels,Event Type,Position,Rotation,Details,Comment";e.push(t);for(var s=this.$store.state.general.flagbeats,a=this.$store.state.general.beats,n=0;n<s.length-1;n++){var r=s[n],o=a[r].pattern,i=parseInt(r/100/4)+1,l=(r-4*(i-1)*100)/100+1,c="1234";t="",t=i+","+l.toFixed(2)+","+c;for(var p=0;p<o.length;p++)if(0!==o[p]){var u="";switch(o[p]){case 1:u=",Bash,"+p+",90,,",e.push(t+u);break;case 2:u=",Slice,"+p+",0,,",e.push(t+u);break;case 3:u=",Slice,"+p+",45,,",e.push(t+u);break;case 4:u=",Slice,"+p+",90,,",e.push(t+u);break;case 5:u=",Slice,"+p+",135,,",e.push(t+u);break;case 6:u=",Slice,"+p+",180,,",e.push(t+u);break;case 7:u=",Slice,"+p+",225,,",e.push(t+u);break;case 8:u=",Slice,"+p+",270,,",e.push(t+u);break;case 9:u=",Slice,"+p+",315,,",e.push(t+u);break;case 10:u=",Throw,"+p+",0,,",e.push(t+u);break}}}var f=this.$store.state.general.songTitle.replace(/ /g,"-");f+="-beatdata.csv";var b=new Blob([e.join("\n")],{type:"text/plain;charset=utf8"});Object(O["saveAs"])(b,f)}}},q=k,j=(s("688c"),Object(u["a"])(q,A,E,!1,null,null,null));j.options.__file="ExportStepper.vue";var T=j.exports,F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-stepper",{ref:"stepperwebimport",attrs:{vertical:""}},[s("q-step",{attrs:{default:"",title:"Song Web File",subtitle:"Select WBE File"}},[s("import-wbe",{on:{success:e.nextStep}})],1),s("q-step",{attrs:{title:"MP3 File",subtitle:"Load music file"}},[s("file-upload",{on:{success:e.gobeatcoder}})],1)],1)},B=[];F._withStripped=!0;var M=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-uploader",{attrs:{"hide-upload-button":"","auto-expand":"",url:"",extensions:".wbe"},on:{add:e.localuploadwbe}})},R=[];M._withStripped=!0;var L={data:function(){return{web:""}},methods:{parsefile:function(e){this.web=JSON.parse(e),this.$store.commit("general/songTitle",this.web.songTitle),this.$store.commit("general/songArtist",this.web.songArtist),this.$store.commit("general/songAttribution",this.web.songAttribution),this.$store.commit("general/start",this.web.start),this.$store.commit("general/beatoffset",this.web.beatoffset),this.$store.commit("general/bpm",this.web.bpm),this.$store.state.general.beats=this.web.beats,this.$store.state.general.flagbeats=this.web.flagbeats,this.$store.commit("general/mobileView",this.web.mobileView)},localuploadwbe:function(e){var t=this;if(e.length>0){this.visile=!0,this.$q.loading.show({spinner:"QSpinnerAudio",message:"Processing WebFormat File. Please wait",messageColor:"white",spinnerSize:100,spinnerColor:"primary",customClass:"bg-blue-4"});var s=e[0],a=new FileReader;a.onload=function(e){t.parsefile(a.result),t.$q.loading.hide(),t.$emit("success")},a.readAsText(s)}}}},I=L,C=(s("22d1"),Object(u["a"])(I,M,R,!1,null,null,null));C.options.__file="ImportWbe.vue";var P=C.exports,U={data:function(){return{}},components:{FileUpload:h["a"],ImportWbe:P},methods:{nextStep:function(){this.step=this.step+1,this.$refs.stepperwebimport.next()},previousStep:function(){this.step=this.step-1,this.$refs.stepperwebimport.previous()},gobeatcoder:function(){this.$router.push("/beatcoder")}}},W=U,D=(s("987a"),Object(u["a"])(W,F,B,!1,null,null,null));D.options.__file="ImportWebStepper.vue";var H=D.exports,J={data:function(){return{select:1,selectOptions:[{label:"Beatron Standalone Editor",value:1},{label:"Web Editor",value:0}]}},components:{ImportStepper:y,ImportWebStepper:H,ExportStepper:T}},z=J,Q=(s("834a"),Object(u["a"])(z,a,n,!1,null,null,null));Q.options.__file="ImportExport.vue";t["default"]=Q.exports},a6e6:function(e,t,s){},b776:function(e,t,s){"use strict";var a=s("a6e6"),n=s.n(a);n.a},c2e6:function(e,t,s){},c502:function(e,t,s){},e712:function(e,t,s){}}]);